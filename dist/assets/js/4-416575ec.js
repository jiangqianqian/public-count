webpackJsonp([4],{11:function(e,i,t){e.exports={tpl:function(e){return'<div class="page page-current"> <div id="content" class="content"> </div> <div class="infinite-scroll-preloader scroll-loading"> <div class="preloader"></div> </div> <nav id="nav" class="bar bar-tab"></nav></div><style scoped> .header { padding: 0.5rem; } .list-block { margin: 0; } .list-block.media-list ul { background-color: #25ae5f; } .list-block .item-content { padding-left: 0.5rem; } .list-block .item-inner { padding-bottom: 0.5rem; padding-right: 0.5rem; } .list-block .item-media+.item-inner { margin-left: 0.5rem; } .item-media img { width: 2.25rem; height: 2.25rem; border-radius: 50%; } .media-list .item-title { color: #ffffff; font-size: 0.8rem; font-weight: 300; } .media-list .item-title span { font-size: 0.6rem; } .header .item-area { font-size: 0.55rem; color: #99ffcc; } .record-order .item-title { color: #2e2e2e; background: #ffffff; font-size: 0.7rem; font-weight: 400; } .record-title { color: #2e2e2e; font-size: 0.8rem; font-weight: 400; width: 3.15rem; height: 2.65rem; line-height: 2.65rem; border: 1px solid #f1f1f1; } @media only screen and (max-width: 320px) { .record-title { width: 2.6rem; height: 2.1rem; line-height: 2.1rem; } } .record-order { background: #fff; margin: 0.5rem 0; } .record-order .row { text-align: center; padding: 0.5rem 0 0 0.5rem; margin-left: 0; } .record-order .row .col-20 { width: initial; margin-left: 0; margin-right: 0.5rem; } .record-subtitle { color: #666666; font-size: 0.6rem; font-weight: 400; padding: 0.4rem 0; border: 1px solid #f1f1f1; border-top-color: #ffffff; margin-bottom: 0.75rem; } .status-title { color: #2e2e2e; font-size: 0.7rem; font-weight: 400; } .label-record { margin-bottom: 0.5rem; } .label-record .num { margin-left: 10px; color: #999; }</style>'},refs:{nav:{el:"#nav",component:t(15)},content:{el:"#content",component:t(24)}}}},15:function(e,i,t){var a=t(1);e.exports={tpl:function(e){return'<a class="tab-item external'+(0==e.index?" active":"")+'" href="javascript:;" data-index="0" data-href=""> <span class="icon icon-pai"></span> <span class="tab-label">派单</span></a><a class="tab-item external'+(1==e.index?" active":"")+'" href="javascript:;" data-index="1" data-href="/order"> <span class="icon icon-order"></span> <span class="tab-label">订单</span></a><a class="tab-item external'+(2==e.index?" active":"")+'" href="javascript:;" data-index="2" data-href="/profile"> <span class="icon icon-user"></span> <span class="tab-label">我的</span></a>'},listen:{update:function(){this.data.index=a.navIndex||0}},events:{"click .tab-item":"switchTab"},handle:{switchTab:function(e){var i=$(e.currentTarget);a.navIndex=i.data("index"),a.cr.go(i.data("href"))}}}},24:function(e,i,t){var a=t(1),r=t(2);e.exports={tpl:function(e){var i="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var i={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(t,function(e){return i[e]||e}):""}}(),t='<div class="list-block media-list"> <ul> <li class="item-content header"> <div class="item-media"> ';return e.headUrl?t+=' <img src="'+i(e.headUrl)+'"> ':t+=' <img src="assets/img/noavatar.gif"> ',t+=' </div> <div class="item-inner"> <div class="item-title-row"> <div class="item-title">'+i(e.name)+" <span>"+i(e.phone)+'</span></div> </div> <div class="item-area">服务区域： '+i(e.geographyAreaName)+'</div> </div> </li> </ul></div><div class="list-block record-order"> <div class="item-content"> <div class="item-inner"> <div class="item-title">历史订单</div> </div> </div> <div class="row"> <div class="col-20"> <div class="record-title">'+i(e.waitingShoot||"0")+'</div> <div class="record-subtitle">待拍摄</div> </div> <div class="col-20"> <div class="record-title">'+i(e.waitingUpload||"0")+'</div> <div class="record-subtitle">待上传</div> </div> <div class="col-20"> <div class="record-title">'+i(e.notPassed||"0")+'</div> <div class="record-subtitle">不通过</div> </div> <div class="col-20"> <div class="record-title">'+i(e.canceled||"0")+'</div> <div class="record-subtitle">已取消</div> </div> <div class="col-20"> <div class="record-title">'+i(e.finished||"0")+'</div> <div class="record-subtitle">已完成</div> </div> </div></div><div class="list-block label-record" id="labelRecord"> <ul> <li class="item-content item-link"> <div class="item-inner"> <div class="item-title status-title">楼栋标注记录<span class="num">'+i(e.markCount)+'</span></div> </div> </li> </ul></div><div class="list-block"> <ul> <li class="item-content"> <div class="item-inner"> <div class="item-title status-title">是否启动接单状态</div> <div class="item-after"> <label class="label-switch"> <input id="enableStatus" type="checkbox" ',"YES"==e.enable&&(t+="checked"),t+='> <div class="checkbox"></div> </label> </div> </div> </li> </ul></div>'},data:function(){return this.fetch()},refs:{nav:{el:"#nav",component:t(15)}},mixins:{fetch:function(){return $.ajax({data:{personId:a.personId},url:r.apiUrl+"getMyBillInfo"})},render:function(){var e=this;this.fetch().then(function(i){"C0000"==i.code&&e.update(i.data)})}},listen:{mount:function(){a.setTitle("我的记录"),this.parent.$(".scroll-loading").hide()},update:function(){this.data.resource&&(this.data=this.data.resource.data)}},events:{"change #enableStatus":"enableStatus","click #labelRecord":"labelRecord"},handle:{enableStatus:function(){$.showIndicator();var e=$("#enableStatus").prop("checked");$.ajax({data:{personId:a.personId,status:e?"YES":"NO"},url:r.apiUrl+"modifyReceiveBillStatus"}).then(function(i){$.hideIndicator(),"C0000"!==i.code&&($.toast(i.msg),$("#enableStatus").prop("checked",!e))})},labelRecord:function(){a.cr.go("/label-record")}}}}});